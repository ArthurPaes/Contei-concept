<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>demo</title>
</head>
<body>  


    <main>
        <div id="question">
            <a class="button" href="index.html">
                <img src="../icons/arrowback_111142.png" alt="">
            </a>
        </div>

        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Blanditiis quas similique temporibus nemo, harum suscipit deserunt accusamus nihil perspiciatis earum esse illo, minus, cupiditate qui. Molestiae vitae ab quae amet.</p>

        <div id="quadro">
            <h2 id="gambiarra">Quadro</h2>
                <div>
            <span style="display : inline-block">
            Tamanho da Caneta <br> <span id="lineWidth">3</span><input type="range" id="penSize" min="1" max="30" value="3">
            <br>
            <canvas id="canvas" width="300" height="600" style="border: 2px solid; cursor: crosshair;"></canvas>
            <br>
            <form>
                Linguagen:
                <select id="language">
                <option value="pt-BR">PortuguÃªs-Br</option>
                <option value="en">English</option>
            
                </select>
            </form>
            <br>
            <button onclick="canvas.erase()
                            clean();">Limpar</button>
            <button onclick="
                var e = document.getElementById('language');
                canvas.setOptions({language: e.options[e.selectedIndex].value,
                numOfReturn : 1});
                canvas.recognize();
            ">Responder</button>
            <br>
            <button onclick="canvas.undo()">Desfazer</button>
            <button onclick="canvas.redo()">Refazer</button>
            <br>
            Resultado: <span id="result"></span>
            </span>
        </div>
    </main>

    <script type="text/javascript" src="../../../../script/handwriting.canvas.js"></script>

    <script type="text/javascript" defer="">
        var canvas = new handwriting.Canvas(document.getElementById('canvas'), 3);
        var width = document.getElementById("gambiarra").clientWidth
        canvas.cxt.canvas.width  = width < 200 ? width : 200;
        canvas.cxt.canvas.height = width < 300 ? width : 300;
        canvas.setCallBack(function(data, err) {
            if (err) throw err;
            else document.getElementById("result").innerHTML = data;
        });
        canvas.set_Undo_Redo(true, true);
        var penSize = document.getElementById("penSize");
        penSize.addEventListener("mousemove", function() {
            document.getElementById("lineWidth").innerHTML = penSize.value;
        });
        penSize.addEventListener("change", function(){
            canvas.setLineWidth(penSize.value);
        });

        function clean(){
            var res = document.getElementById('result')
            res.innerHTML = ""
        }
    </script>
    
</body>
</html>